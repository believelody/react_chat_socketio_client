{"ast":null,"code":"import _regeneratorRuntime from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/yamakasi/React/react_chat_socketio/src/App.jsx\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n  height: 100vh;\\n  overflow: hidden;\\n  background-image: linear-gradient(102deg, rgba(249, 249, 249, 0.1) 0%, rgba(249, 249, 249, 0.1) 14%,rgba(161, 161, 161, 0.1) 14%, rgba(161, 161, 161, 0.1) 100%),linear-gradient(310deg, rgba(26, 26, 26, 0.03) 0%, rgba(26, 26, 26, 0.03) 71%,rgba(189, 189, 189, 0.03) 71%, rgba(189, 189, 189, 0.03) 100%),linear-gradient(133deg, rgba(132, 132, 132, 0.1) 0%, rgba(132, 132, 132, 0.1) 8%,rgba(95, 95, 95, 0.1) 8%, rgba(95, 95, 95, 0.1) 100%),linear-gradient(142deg, rgba(110, 110, 110, 0.03) 0%, rgba(110, 110, 110, 0.03) 46%,rgba(8, 8, 8, 0.03) 46%, rgba(8, 8, 8, 0.03) 100%),linear-gradient(346deg, rgba(231, 231, 231, 0.05) 0%, rgba(231, 231, 231, 0.05) 6%,rgba(71, 71, 71, 0.05) 6%, rgba(71, 71, 71, 0.05) 100%),linear-gradient(118deg, rgba(251, 251, 251, 0.07) 0%, rgba(251, 251, 251, 0.07) 72%,rgba(24, 24, 24, 0.07) 72%, rgba(24, 24, 24, 0.07) 100%),linear-gradient(338deg, rgba(75, 75, 75, 0.08) 0%, rgba(75, 75, 75, 0.08) 37%,rgba(213, 213, 213, 0.08) 37%, rgba(213, 213, 213, 0.08) 100%),linear-gradient(90deg, rgb(199, 202, 132),rgb(25, 94, 125));\\n  background-color: #e6eaea;\\n  font-family: \\\"proxima-nova\\\", \\\"Source Sans Pro\\\", sans-serif;\\n  letter-spacing: 0.1px;\\n  color: white;\\n  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.004);\\n  -webkit-font-smoothing: antialiased;\\n  position: relative;\\n\\n  @media \", \" {\\n    width: 100vw;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport AuthRoute from \"./components/auth-routes/AuthRoute\";\nimport LoginPage from \"./pages/login/LoginPage\";\nimport RegisterPage from \"./pages/register/RegisterPage\";\nimport HomePage from \"./pages/home/HomePage\";\nimport devices from \"./utils/devices\";\nimport Modal from \"./components/modal/Modal\";\nimport ChatDetail from \"./pages/detail/ChatDetail\";\nimport { useAppHooks } from \"./contexts\";\nvar AppStyle = styled.div(_templateObject(), devices.mobileL);\n\nvar App = function App() {\n  var _useAppHooks = useAppHooks(),\n      useChat = _useAppHooks.useChat;\n\n  var _useChat = _slicedToArray(useChat, 2),\n      chatSelected = _useChat[0].chatSelected,\n      dispatchChat = _useChat[1];\n\n  React.useEffect(function () {\n    var destroyChat =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n\n                if (!(chatSelected && chatSelected.messages === 0)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return api.chat.deleteChat(chatSelected.id);\n\n              case 4:\n                res = _context.sent;\n                setChat(null);\n                console.log(res.data.msg);\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      }));\n\n      return function destroyChat() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    if (chatSelected) destroyChat();\n  }, [chatSelected]);\n  return React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(AppStyle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/chats/:id\",\n    component: ChatDetail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    component: LoginPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    component: RegisterPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), \"}\"), React.createElement(Modal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/yamakasi/React/react_chat_socketio/src/App.jsx"],"names":["React","BrowserRouter","Switch","Route","styled","AuthRoute","LoginPage","RegisterPage","HomePage","devices","Modal","ChatDetail","useAppHooks","AppStyle","div","mobileL","App","useChat","chatSelected","dispatchChat","useEffect","destroyChat","messages","api","chat","deleteChat","id","res","setChat","console","log","data","msg"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,MAAxB,EAAgCC,KAAhC,QAA6C,kBAA7C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,SAAP,MAAsB,oCAAtB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAASC,WAAT,QAA4B,YAA5B;AAEA,IAAMC,QAAQ,GAAGT,MAAM,CAACU,GAAV,oBAkBHL,OAAO,CAACM,OAlBL,CAAd;;AAuBA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AAAA,qBACIJ,WAAW,EADf;AAAA,MACRK,OADQ,gBACRA,OADQ;;AAAA,gCAEuBA,OAFvB;AAAA,MAERC,YAFQ,eAERA,YAFQ;AAAA,MAEOC,YAFP;;AAIhBnB,EAAAA,KAAK,CAACoB,SAAN,CAAgB,YAAM;AACpB,QAAMC,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,sBAEZH,YAAY,IAAIA,YAAY,CAACI,QAAb,KAA0B,CAF9B;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGIC,GAAG,CAACC,IAAJ,CAASC,UAAT,CAAoBP,YAAY,CAACQ,EAAjC,CAHJ;;AAAA;AAGRC,gBAAAA,GAHQ;AAIdC,gBAAAA,OAAO,CAAC,IAAD,CAAP;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAJ,CAASC,GAArB;;AALc;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQhBH,gBAAAA,OAAO,CAACC,GAAR;;AARgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAXT,WAAW;AAAA;AAAA;AAAA,OAAjB;;AAYA,QAAIH,YAAJ,EAAkBG,WAAW;AAC9B,GAdD,EAcG,CAACH,YAAD,CAdH;AAgBA,SACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAiB,IAAA,IAAI,EAAC,GAAtB;AAA0B,IAAA,SAAS,EAAEV,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAiB,IAAA,IAAI,EAAC,YAAtB;AAAmC,IAAA,SAAS,EAAEG,UAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,QAAlB;AAA2B,IAAA,SAAS,EAAEL,SAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,WAAlB;AAA8B,IAAA,SAAS,EAAEC,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,MADF,EAOE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,CADF;AAaD,CAjCD;;AAmCA,eAAeS,GAAf","sourcesContent":["import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport AuthRoute from \"./components/auth-routes/AuthRoute\";\r\nimport LoginPage from \"./pages/login/LoginPage\";\r\nimport RegisterPage from \"./pages/register/RegisterPage\";\r\nimport HomePage from \"./pages/home/HomePage\";\r\nimport devices from \"./utils/devices\";\r\nimport Modal from \"./components/modal/Modal\";\r\nimport ChatDetail from \"./pages/detail/ChatDetail\";\r\nimport { useAppHooks } from \"./contexts\";\r\n\r\nconst AppStyle = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0;\r\n  padding: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  background-image: linear-gradient(102deg, rgba(249, 249, 249, 0.1) 0%, rgba(249, 249, 249, 0.1) 14%,rgba(161, 161, 161, 0.1) 14%, rgba(161, 161, 161, 0.1) 100%),linear-gradient(310deg, rgba(26, 26, 26, 0.03) 0%, rgba(26, 26, 26, 0.03) 71%,rgba(189, 189, 189, 0.03) 71%, rgba(189, 189, 189, 0.03) 100%),linear-gradient(133deg, rgba(132, 132, 132, 0.1) 0%, rgba(132, 132, 132, 0.1) 8%,rgba(95, 95, 95, 0.1) 8%, rgba(95, 95, 95, 0.1) 100%),linear-gradient(142deg, rgba(110, 110, 110, 0.03) 0%, rgba(110, 110, 110, 0.03) 46%,rgba(8, 8, 8, 0.03) 46%, rgba(8, 8, 8, 0.03) 100%),linear-gradient(346deg, rgba(231, 231, 231, 0.05) 0%, rgba(231, 231, 231, 0.05) 6%,rgba(71, 71, 71, 0.05) 6%, rgba(71, 71, 71, 0.05) 100%),linear-gradient(118deg, rgba(251, 251, 251, 0.07) 0%, rgba(251, 251, 251, 0.07) 72%,rgba(24, 24, 24, 0.07) 72%, rgba(24, 24, 24, 0.07) 100%),linear-gradient(338deg, rgba(75, 75, 75, 0.08) 0%, rgba(75, 75, 75, 0.08) 37%,rgba(213, 213, 213, 0.08) 37%, rgba(213, 213, 213, 0.08) 100%),linear-gradient(90deg, rgb(199, 202, 132),rgb(25, 94, 125));\r\n  background-color: #e6eaea;\r\n  font-family: \"proxima-nova\", \"Source Sans Pro\", sans-serif;\r\n  letter-spacing: 0.1px;\r\n  color: white;\r\n  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.004);\r\n  -webkit-font-smoothing: antialiased;\r\n  position: relative;\r\n\r\n  @media ${devices.mobileL} {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nconst App = () => {\r\n  const { useChat } = useAppHooks()\r\n  const [{chatSelected}, dispatchChat] = useChat\r\n\r\n  React.useEffect(() => {\r\n    const destroyChat = async () => {\r\n      try {\r\n        if (chatSelected && chatSelected.messages === 0) {\r\n          const res = await api.chat.deleteChat(chatSelected.id)\r\n          setChat(null)\r\n          console.log(res.data.msg)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    if (chatSelected) destroyChat()\r\n  }, [chatSelected])\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AppStyle>\r\n        <Switch>\r\n          <AuthRoute exact path=\"/\" component={HomePage} />\r\n          <AuthRoute exact path=\"/chats/:id\" component={ChatDetail} />\r\n          <Route exact path=\"/login\" component={LoginPage} />\r\n          <Route exact path=\"/register\" component={RegisterPage} />}\r\n        </Switch>\r\n        <Modal />\r\n      </AppStyle>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}