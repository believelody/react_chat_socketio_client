{"ast":null,"code":"import _slicedToArray from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/yamakasi/React/react_chat_socketio/src/components/header/ChatHeader.jsx\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 50px;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n  padding: 0 0 0 25px;\\n  margin: 0;\\n  top: 0;\\n  left: 0;\\n  background: #f5f5f5;\\n  display: flex;\\n  align-items: center;\\n  z-index: 1;\\n\\n  & > .go-back {\\n    display: none;\\n  }\\n\\n  & > h4 {\\n    padding: 0;\\n    margin: 0 0 0 15px;\\n  }\\n\\n  & > .img-contact {\\n    width: 40px;\\n    line-height: 30px;\\n    border-radius: 50%;\\n    height: 40px;\\n    text-align: center;\\n    font-size: 2em;\\n    background-color: white;\\n    border: 2px solid #aaa;\\n    cursor: pointer;\\n  }\\n\\n  & > .btn-option {\\n    text-align: center;\\n    position: absolute;\\n    right: 5%;\\n    top: 50%;\\n    transform: translateY(-50%);\\n    padding: 5px;\\n    margin: 0;\\n    font-size: 1.2em;\\n    border-radius: 4px;\\n    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);\\n    width: 40px;\\n    cursor: pointer;\\n  }\\n\\n  & .header-typing {\\n    margin-left: 30px;\\n    font-style: italic;\\n  }\\n\\n  @media \", \" {\\n    & > .go-back {\\n      display: inline-block;\\n      padding: 5px;\\n      border-radius: 4px;\\n      box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);\\n      width: 40px;\\n      cursor: pointer;\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Icon } from 'semantic-ui-react';\nimport styled from \"styled-components\";\nimport { useAppHooks } from \"../../contexts\";\nimport { CHAT_UNSELECTED } from \"../../reducers/transitionReducer\";\nimport devices from \"../../utils/devices\";\nimport { useTransition } from \"../../contexts/transitionContext\";\nvar ChatHeaderStyle = styled.header(_templateObject(), devices.mobileL);\n\nvar ChatHeader = function ChatHeader(_ref) {\n  var getHeaderPosition = _ref.getHeaderPosition,\n      isDisplayed = _ref.isDisplayed,\n      usernames = _ref.usernames;\n\n  var _useAppHooks = useAppHooks(),\n      useTransition = _useAppHooks.useTransition,\n      socket = _useAppHooks.socket;\n\n  var _useTransition = _slicedToArray(useTransition, 2),\n      chatSelected = _useTransition[0],\n      dispatchTransition = _useTransition[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isTyping = _useState2[0],\n      setTyping = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isSelected = _useState4[0],\n      setSelected = _useState4[1];\n\n  var headerRef = useRef();\n\n  var handleTransition = function handleTransition(e) {\n    dispatchTransition({\n      type: CHAT_UNSELECTED,\n      payload: false\n    });\n  };\n\n  var handleClick = function handleClick(e) {\n    getHeaderPosition(!isDisplayed, headerRef.current.getBoundingClientRect().height);\n  };\n\n  socket.on(\"is-typing\", function (data) {\n    return setTyping(data);\n  }); // useEffect(() => {\n  //   if (localStorage.username) {\n  //     setDest(chat.users.find(user => user.username !== localStorage.username));\n  //   }\n  // }, [localStorage.username, dest, chat.users]);\n\n  useEffect(function () {\n    setSelected(!isSelected);\n  }, []);\n  return React.createElement(ChatHeaderStyle, {\n    ref: headerRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"btn-option\",\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"+\"), React.createElement(\"span\", {\n    className: \"go-back\",\n    onClick: handleTransition,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    name: \"arrow left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  })), usernames.length > 1 && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"img-contact\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"G\"), usernames.slice(0, 2).map(function (username, i) {\n    return i > 1 ? React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, username) : React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"+\", usernames.length - 2);\n  })), usernames.length === 1 && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, usernames.map(function (username) {\n    return React.createElement(\"span\", {\n      className: \"img-contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, username[0].toUpperCase());\n  }), usernames.map(function (username) {\n    return function (username) {\n      return React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, username);\n    };\n  })), isTyping && React.createElement(\"span\", {\n    className: \"header-typing\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"is typing...\"));\n};\n\nexport default ChatHeader;","map":{"version":3,"sources":["/home/yamakasi/React/react_chat_socketio/src/components/header/ChatHeader.jsx"],"names":["React","useEffect","useRef","useState","Icon","styled","useAppHooks","CHAT_UNSELECTED","devices","useTransition","ChatHeaderStyle","header","mobileL","ChatHeader","getHeaderPosition","isDisplayed","usernames","socket","chatSelected","dispatchTransition","isTyping","setTyping","isSelected","setSelected","headerRef","handleTransition","e","type","payload","handleClick","current","getBoundingClientRect","height","on","data","length","slice","map","username","i","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Icon } from 'semantic-ui-react'\r\nimport styled from \"styled-components\";\r\nimport { useAppHooks } from \"../../contexts\";\r\nimport { CHAT_UNSELECTED } from \"../../reducers/transitionReducer\";\r\nimport devices from \"../../utils/devices\";\r\nimport { useTransition } from \"../../contexts/transitionContext\";\r\n\r\nconst ChatHeaderStyle = styled.header`\r\n  width: 100%;\r\n  height: 50px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.5);\r\n  position: absolute;\r\n  padding: 0 0 0 25px;\r\n  margin: 0;\r\n  top: 0;\r\n  left: 0;\r\n  background: #f5f5f5;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 1;\r\n\r\n  & > .go-back {\r\n    display: none;\r\n  }\r\n\r\n  & > h4 {\r\n    padding: 0;\r\n    margin: 0 0 0 15px;\r\n  }\r\n\r\n  & > .img-contact {\r\n    width: 40px;\r\n    line-height: 30px;\r\n    border-radius: 50%;\r\n    height: 40px;\r\n    text-align: center;\r\n    font-size: 2em;\r\n    background-color: white;\r\n    border: 2px solid #aaa;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & > .btn-option {\r\n    text-align: center;\r\n    position: absolute;\r\n    right: 5%;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    padding: 5px;\r\n    margin: 0;\r\n    font-size: 1.2em;\r\n    border-radius: 4px;\r\n    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);\r\n    width: 40px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  & .header-typing {\r\n    margin-left: 30px;\r\n    font-style: italic;\r\n  }\r\n\r\n  @media ${devices.mobileL} {\r\n    & > .go-back {\r\n      display: inline-block;\r\n      padding: 5px;\r\n      border-radius: 4px;\r\n      box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);\r\n      width: 40px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ChatHeader = ({ getHeaderPosition, isDisplayed, usernames }) => {\r\n  const { useTransition, socket } = useAppHooks();\r\n\r\n  const [chatSelected, dispatchTransition] = useTransition;\r\n\r\n  const [isTyping, setTyping] = useState(false);\r\n  const [isSelected, setSelected] = useState(false);\r\n\r\n  const headerRef = useRef();\r\n\r\n  const handleTransition = e => {\r\n    dispatchTransition({ type: CHAT_UNSELECTED, payload: false });\r\n  };\r\n\r\n  const handleClick = e => {\r\n    getHeaderPosition(\r\n      !isDisplayed,\r\n      headerRef.current.getBoundingClientRect().height\r\n    );\r\n  };\r\n\r\n  socket.on(\"is-typing\", data => setTyping(data));\r\n\r\n  // useEffect(() => {\r\n  //   if (localStorage.username) {\r\n  //     setDest(chat.users.find(user => user.username !== localStorage.username));\r\n  //   }\r\n  // }, [localStorage.username, dest, chat.users]);\r\n\r\n  useEffect(() => {\r\n    setSelected(!isSelected);\r\n  }, []);\r\n\r\n  return (\r\n    <ChatHeaderStyle ref={headerRef}>\r\n      <span className=\"btn-option\" onClick={handleClick}>\r\n        +\r\n      </span>\r\n      <span className=\"go-back\" onClick={handleTransition}>\r\n        {/* <i className=\"fas fa-chevron-left\" /> */}\r\n        <Icon name='arrow left' />\r\n      </span>\r\n      {\r\n        usernames.length > 1 && (\r\n          <React.Fragment>\r\n            <span className=\"img-contact\">\r\n              G\r\n            </span>\r\n            {\r\n              usernames.slice(0, 2).map((username, i) => i > 1 ? <h4>{username}</h4> : <h4>+{usernames.length - 2}</h4>)\r\n            }\r\n          </React.Fragment>\r\n        )\r\n      }\r\n      {\r\n        usernames.length === 1 && (\r\n          <React.Fragment>\r\n            {\r\n              usernames.map(username => (\r\n                <span className=\"img-contact\">\r\n                  {username[0].toUpperCase()}\r\n                </span>\r\n              ))\r\n            }\r\n            {\r\n              usernames.map(username => username => <h4>{username}</h4>)\r\n            }\r\n          </React.Fragment>\r\n        )\r\n      }      \r\n      {isTyping && <span className=\"header-typing\">is typing...</span>}\r\n    </ChatHeaderStyle>\r\n  );\r\n};\r\n\r\nexport default ChatHeader;\r\n"]},"metadata":{},"sourceType":"module"}