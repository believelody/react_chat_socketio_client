{"ast":null,"code":"import _regeneratorRuntime from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/yamakasi/React/react_chat_socketio/src/components/friends/NotFriend.jsx\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    background-color: white;\\n    color: black;\\n    position: absolute;\\n    padding: 5px 0px;\\n    width: 100%;\\n    height: auto;\\n    bottom: 80px;\\n    left: 50%;\\n    transform: translate3d(-50%, 0, 0);\\n\\n    & .blocked-request {\\n        margin-left: 10px;\\n        text-transform: uppercase;\\n        // border-radius: 4px;\\n        // box-shadow: 2px 2px 4px rgba(0, 0, 0, .4);\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState } from 'react';\nimport { Button } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport { useAppHooks } from '../../contexts';\nimport api from '../../api';\nvar NotFriendStyle = styled.div(_templateObject());\n\nvar NotFriend = function NotFriend(_ref) {\n  var contact = _ref.contact;\n\n  var _useAppHooks = useAppHooks(),\n      useAuth = _useAppHooks.useAuth;\n\n  var _useAuth = _slicedToArray(useAuth, 2),\n      user = _useAuth[0].user,\n      _ = _useAuth[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFriend = _useState2[0],\n      setIsFriend = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isRequest = _useState4[0],\n      setIsRequest = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isBlock = _useState6[0],\n      setIsBlock = _useState6[1];\n\n  var blockContact = function blockContact() {\n    alert('contact blocked');\n  };\n\n  useEffect(function () {\n    var checkFriend =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, friends, match;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return api.user.getFriendList(user.id);\n\n              case 2:\n                res = _context.sent;\n                friends = res.data;\n\n                if (friends.length > 0) {\n                  match = friends.find(function (friend) {\n                    return friend.id === contact.id;\n                  });\n\n                  if (match) {\n                    setIsFriend(true);\n                  } else {\n                    setIsFriend(false);\n                  }\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function checkFriend() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    checkFriend();\n  }, [isFriend]);\n  console.log('not friend');\n  return React.createElement(NotFriendStyle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, !isFriend && !isRequest && !isBlock && React.createElement(\"span\", {\n    className: \"not-friend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"This contact is not among your friends. Do you want to block him?\", React.createElement(\"button\", {\n    className: \"blocked-request\",\n    onClick: blockContact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Yes\"))), !isFriend && isRequest && !isBlock && React.createElement(\"span\", {\n    className: \"not-friend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"This contact sent you a friend's request. What do you want to do?\", React.createElement(Button, {\n    className: \"blocked-request\",\n    onClick: blockContact,\n    content: React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Yes\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"blocked-request\",\n    onClick: blockContact,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Yes\"))));\n};\n\nexport default NotFriend;","map":{"version":3,"sources":["/home/yamakasi/React/react_chat_socketio/src/components/friends/NotFriend.jsx"],"names":["React","useEffect","useState","Button","styled","useAppHooks","api","NotFriendStyle","div","NotFriend","contact","useAuth","user","_","isFriend","setIsFriend","isRequest","setIsRequest","isBlock","setIsBlock","blockContact","alert","checkFriend","getFriendList","id","res","friends","data","length","match","find","friend","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Button } from 'semantic-ui-react'\nimport styled from 'styled-components'\nimport { useAppHooks } from '../../contexts';\nimport api from '../../api';\n\nconst NotFriendStyle = styled.div`\n    text-align: center;\n    background-color: white;\n    color: black;\n    position: absolute;\n    padding: 5px 0px;\n    width: 100%;\n    height: auto;\n    bottom: 80px;\n    left: 50%;\n    transform: translate3d(-50%, 0, 0);\n\n    & .blocked-request {\n        margin-left: 10px;\n        text-transform: uppercase;\n        // border-radius: 4px;\n        // box-shadow: 2px 2px 4px rgba(0, 0, 0, .4);\n    }\n`\n\nconst NotFriend = ({ contact }) => {\n    const { useAuth } = useAppHooks()\n    const [{user}, _] = useAuth\n\n    const [isFriend, setIsFriend] = useState(false)\n    const [isRequest, setIsRequest] = useState(false)\n    const [isBlock, setIsBlock] = useState(false)\n\n    const blockContact = () => {\n        alert('contact blocked')\n    }\n\n    useEffect(() => {\n        const checkFriend = async () => {\n            const res = await api.user.getFriendList(user.id)\n            const friends = res.data\n            if (friends.length > 0) {\n                let match = friends.find(friend => friend.id === contact.id)\n                if (match) {\n                    setIsFriend(true)\n                }\n                else {\n                    setIsFriend(false)\n                }\n            }\n        }\n\n        checkFriend()\n    }, [isFriend])\n\n    console.log('not friend')\n\n    return (\n        <NotFriendStyle>\n            {\n                !isFriend && !isRequest && !isBlock &&\n                <span className='not-friend'>\n                    This contact is not among your friends. Do you want to block him?\n                    <button className='blocked-request' onClick={blockContact}><b>Yes</b></button>\n                </span>\n            }\n            {\n                !isFriend && isRequest && !isBlock &&\n                <span className='not-friend'>\n                    This contact sent you a friend's request. What do you want to do?\n                    <Button className='blocked-request' onClick={blockContact} content={<b>Yes</b>} />\n\n                    <button className='blocked-request' onClick={blockContact}><b>Yes</b></button>\n                </span>\n            }\n        </NotFriendStyle>\n    )\n}\n\nexport default NotFriend\n"]},"metadata":{},"sourceType":"module"}