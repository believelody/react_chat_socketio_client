{"ast":null,"code":"import _regeneratorRuntime from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/home/yamakasi/React/react_chat_socketio/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/yamakasi/React/react_chat_socketio/src/components/request/Requests.jsx\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n  width: 100%;\\n  color: black;\\n\\n  & > .request-label {\\n    width: 100%;\\n    height: 100%;\\n    text-shadow: 2px 2px 4px rgba(255, 255, 255, .6);\\n    padding: 12px 8px;\\n    text-align: left;\\n    font-size: 1.2em;\\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, .8), -2px -2px 4px rgba(0, 0, 0, .8);\\n    background-image: linear-gradient(102deg, rgba(249, 249, 249, 0.1) 0%, rgba(249, 249, 249, 0.1) 14%,rgba(161, 161, 161, 0.1) 14%, rgba(161, 161, 161, 0.1) 100%),linear-gradient(310deg, rgba(26, 26, 26, 0.03) 0%, rgba(26, 26, 26, 0.03) 71%,rgba(189, 189, 189, 0.03) 71%, rgba(189, 189, 189, 0.03) 100%),linear-gradient(133deg, rgba(132, 132, 132, 0.1) 0%, rgba(132, 132, 132, 0.1) 8%,rgba(95, 95, 95, 0.1) 8%, rgba(95, 95, 95, 0.1) 100%),linear-gradient(142deg, rgba(110, 110, 110, 0.03) 0%, rgba(110, 110, 110, 0.03) 46%,rgba(8, 8, 8, 0.03) 46%, rgba(8, 8, 8, 0.03) 100%),linear-gradient(346deg, rgba(231, 231, 231, 0.05) 0%, rgba(231, 231, 231, 0.05) 6%,rgba(71, 71, 71, 0.05) 6%, rgba(71, 71, 71, 0.05) 100%),linear-gradient(118deg, rgba(251, 251, 251, 0.07) 0%, rgba(251, 251, 251, 0.07) 72%,rgba(24, 24, 24, 0.07) 72%, rgba(24, 24, 24, 0.07) 100%),linear-gradient(338deg, rgba(75, 75, 75, 0.08) 0%, rgba(75, 75, 75, 0.08) 37%,rgba(213, 213, 213, 0.08) 37%, rgba(213, 213, 213, 0.08) 100%),linear-gradient(90deg, rgb(199, 202, 132),rgb(25, 94, 125));\\n    background-color: #192a56;\\n  }\\n\\n  &::-webkit-scrollbar {\\n    width: 8px;\\n    background: #2c3e50;\\n  }\\n\\n  &::-webkit-scrollbar-thumb {\\n    background-color: #243140;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0;\\n  margin: 0;\\n  width: 100%;\\n\\n  & h4 {\\n    margin-left: 15px;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useAppHooks } from \"../../contexts\";\nimport api from \"../../api\";\nimport Request from \"./Request\";\nimport { REQUEST_HOOK } from \"../../reducers/hookReducer\";\nvar RequestsContainer = styled.div(_templateObject());\nvar RequestList = styled.ul(_templateObject2());\n\nvar Requests = function Requests() {\n  var _useAppHooks = useAppHooks(),\n      useAuth = _useAppHooks.useAuth,\n      useHook = _useAppHooks.useHook;\n\n  var _useAuth = _slicedToArray(useAuth, 2),\n      user = _useAuth[0].user,\n      dispatchAuth = _useAuth[1];\n\n  var _useHook = _slicedToArray(useHook, 2),\n      requestHook = _useHook[0].requestHook,\n      dispatchHook = _useHook[1];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      requests = _useState2[0],\n      setRequests = _useState2[1];\n\n  useEffect(function () {\n    return dispatchHook({\n      type: REQUEST_HOOK,\n      payload: true\n    });\n  }, []);\n  useEffect(function () {\n    var getRequests =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return api.user.getRequestList(user.id);\n\n              case 2:\n                res = _context.sent;\n                setRequests(res.data);\n                dispatchHook({\n                  type: REQUEST_HOOK,\n                  payload: false\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getRequests() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    if (requestHook) getRequests();\n  }, [requestHook]); // console.log(requestHook)\n\n  return React.createElement(RequestsContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, requests.length > 0 && React.createElement(RequestList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"request-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Friends request: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, requests.length > 0 ? requests.length : 0)), requests.map(function (request) {\n    return React.createElement(Request, {\n      setRequests: setRequests,\n      key: request.id,\n      contact: request,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    });\n  })));\n};\n\nexport default Requests;","map":{"version":3,"sources":["/home/yamakasi/React/react_chat_socketio/src/components/request/Requests.jsx"],"names":["React","useState","useEffect","styled","useAppHooks","api","Request","REQUEST_HOOK","RequestsContainer","div","RequestList","ul","Requests","useAuth","useHook","user","dispatchAuth","requestHook","dispatchHook","requests","setRequests","type","payload","getRequests","getRequestList","id","res","data","length","map","request"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,YAAT,QAA6B,4BAA7B;AAEA,IAAMC,iBAAiB,GAAGL,MAAM,CAACM,GAAV,mBAAvB;AAUA,IAAMC,WAAW,GAAGP,MAAM,CAACQ,EAAV,oBAAjB;;AA6BA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,qBACUR,WAAW,EADrB;AAAA,MACXS,OADW,gBACXA,OADW;AAAA,MACFC,OADE,gBACFA,OADE;;AAAA,gCAEcD,OAFd;AAAA,MAEVE,IAFU,eAEVA,IAFU;AAAA,MAEFC,YAFE;;AAAA,gCAGmBF,OAHnB;AAAA,MAGXG,WAHW,eAGXA,WAHW;AAAA,MAGGC,YAHH;;AAAA,kBAKajB,QAAQ,CAAC,EAAD,CALrB;AAAA;AAAA,MAKZkB,QALY;AAAA,MAKFC,WALE;;AAOnBlB,EAAAA,SAAS,CAAC;AAAA,WAAMgB,YAAY,CAAC;AAAEG,MAAAA,IAAI,EAAEd,YAAR;AAAsBe,MAAAA,OAAO,EAAE;AAA/B,KAAD,CAAlB;AAAA,GAAD,EAA4D,EAA5D,CAAT;AAEApB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMqB,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACFlB,GAAG,CAACU,IAAJ,CAASS,cAAT,CAAwBT,IAAI,CAACU,EAA7B,CADE;;AAAA;AACdC,gBAAAA,GADc;AAElBN,gBAAAA,WAAW,CAACM,GAAG,CAACC,IAAL,CAAX;AACAT,gBAAAA,YAAY,CAAC;AAAEG,kBAAAA,IAAI,EAAEd,YAAR;AAAsBe,kBAAAA,OAAO,EAAE;AAA/B,iBAAD,CAAZ;;AAHkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAXC,WAAW;AAAA;AAAA;AAAA,OAAjB;;AAMA,QAAIN,WAAJ,EAAiBM,WAAW;AAC7B,GARQ,EAQN,CAACN,WAAD,CARM,CAAT,CATmB,CAmBnB;;AAEA,SACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIE,QAAQ,CAACS,MAAT,GAAkB,CAAlB,IACA,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOT,QAAQ,CAACS,MAAT,GAAkB,CAAlB,GAAsBT,QAAQ,CAACS,MAA/B,GAAwC,CAA/C,CAAhD,CADF,EAEGT,QAAQ,CAACU,GAAT,CAAa,UAAAC,OAAO;AAAA,WAAI,oBAAC,OAAD;AAAS,MAAA,WAAW,EAAEV,WAAtB;AAAmC,MAAA,GAAG,EAAEU,OAAO,CAACL,EAAhD;AAAoD,MAAA,OAAO,EAAEK,OAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ;AAAA,GAApB,CAFH,CAHJ,CADF;AAWH,CAhCD;;AAkCA,eAAelB,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useAppHooks } from \"../../contexts\";\nimport api from \"../../api\";\nimport Request from \"./Request\";\nimport { REQUEST_HOOK } from \"../../reducers/hookReducer\";\n\nconst RequestsContainer = styled.div`\n  padding: 0;\n  margin: 0;\n  width: 100%;\n\n  & h4 {\n    margin-left: 15px;\n  }\n`;\n\nconst RequestList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  color: black;\n\n  & > .request-label {\n    width: 100%;\n    height: 100%;\n    text-shadow: 2px 2px 4px rgba(255, 255, 255, .6);\n    padding: 12px 8px;\n    text-align: left;\n    font-size: 1.2em;\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, .8), -2px -2px 4px rgba(0, 0, 0, .8);\n    background-image: linear-gradient(102deg, rgba(249, 249, 249, 0.1) 0%, rgba(249, 249, 249, 0.1) 14%,rgba(161, 161, 161, 0.1) 14%, rgba(161, 161, 161, 0.1) 100%),linear-gradient(310deg, rgba(26, 26, 26, 0.03) 0%, rgba(26, 26, 26, 0.03) 71%,rgba(189, 189, 189, 0.03) 71%, rgba(189, 189, 189, 0.03) 100%),linear-gradient(133deg, rgba(132, 132, 132, 0.1) 0%, rgba(132, 132, 132, 0.1) 8%,rgba(95, 95, 95, 0.1) 8%, rgba(95, 95, 95, 0.1) 100%),linear-gradient(142deg, rgba(110, 110, 110, 0.03) 0%, rgba(110, 110, 110, 0.03) 46%,rgba(8, 8, 8, 0.03) 46%, rgba(8, 8, 8, 0.03) 100%),linear-gradient(346deg, rgba(231, 231, 231, 0.05) 0%, rgba(231, 231, 231, 0.05) 6%,rgba(71, 71, 71, 0.05) 6%, rgba(71, 71, 71, 0.05) 100%),linear-gradient(118deg, rgba(251, 251, 251, 0.07) 0%, rgba(251, 251, 251, 0.07) 72%,rgba(24, 24, 24, 0.07) 72%, rgba(24, 24, 24, 0.07) 100%),linear-gradient(338deg, rgba(75, 75, 75, 0.08) 0%, rgba(75, 75, 75, 0.08) 37%,rgba(213, 213, 213, 0.08) 37%, rgba(213, 213, 213, 0.08) 100%),linear-gradient(90deg, rgb(199, 202, 132),rgb(25, 94, 125));\n    background-color: #192a56;\n  }\n\n  &::-webkit-scrollbar {\n    width: 8px;\n    background: #2c3e50;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #243140;\n  }\n`;\n\nconst Requests = () => {\n    const { useAuth, useHook } = useAppHooks();\n    const [{ user }, dispatchAuth] = useAuth;\n    const [{requestHook}, dispatchHook] = useHook\n\n    const [requests, setRequests] = useState([])\n\n    useEffect(() => dispatchHook({ type: REQUEST_HOOK, payload: true }), [])\n\n    useEffect(() => {\n      const getRequests = async () => {\n        let res = await api.user.getRequestList(user.id)\n        setRequests(res.data)\n        dispatchHook({ type: REQUEST_HOOK, payload: false })\n      }\n    \n      if (requestHook) getRequests()\n    }, [requestHook])\n\n    // console.log(requestHook)\n\n    return (\n      <RequestsContainer>\n        {\n          requests.length > 0 &&\n          <RequestList>\n            <div className='request-label'>Friends request: <span>{requests.length > 0 ? requests.length : 0}</span></div>\n            {requests.map(request => <Request setRequests={setRequests} key={request.id} contact={request} />)}\n          </RequestList>\n        }\n      </RequestsContainer>\n    )\n};\n\nexport default Requests;\n"]},"metadata":{},"sourceType":"module"}